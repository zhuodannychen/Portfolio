"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{5858:function(e,t,i){i.r(t),i.d(t,{GA4R:function(){return o},GA4React:function(){return s},useGA4React:function(){return c},withTracker:function(){return g}});var n=i(2265),a="__ga4React__";class s{constructor(e,t,i,n,a){if(this.gaCode=e,this.gaConfig=t,this.additionalGaCode=i,this.timeout=n,this.options=a,this.scriptSyncId="ga4ReactScriptSync",this.scriptAsyncId="ga4ReactScriptAsync",this.nonceAsync="",this.nonceSync="",this.gaConfig=t||{},this.gaCode=e,this.timeout=n||5e3,this.additionalGaCode=i,this.options=a,this.options){var{nonce:s}=this.options;this.nonceAsync=s&&s[0]?s[0]:"",this.nonceSync=s&&s[1]?s[1]:""}}outputOnResolve(){return{pageview:this.pageview,event:this.event,gtag:this.gtag}}initialize(){return new Promise((e,t)=>{s.isInitialized()&&t(Error("GA4React is being initialized"));var i=document.getElementById(this.scriptAsyncId);i&&i.remove();var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("id",this.scriptAsyncId),r.setAttribute("async",""),this.nonceAsync&&"string"==typeof this.nonceAsync&&this.nonceAsync.length>0&&r.setAttribute("nonce",this.nonceAsync),r.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+this.gaCode),r.onload=()=>{var t=document.getElementById(this.scriptSyncId);t&&t.remove();var i=document.getElementById(this.scriptSyncId);i&&i.remove();var s=document.createElement("script");s.setAttribute("id",this.scriptSyncId),this.nonceSync&&"string"==typeof this.nonceSync&&this.nonceSync.length>0&&s.setAttribute("nonce",this.nonceSync);var r="window.dataLayer = window.dataLayer || [];\n        function gtag(){dataLayer.push(arguments);};\n        gtag('js', new Date());\n        gtag('config', '"+this.gaCode+"', "+JSON.stringify(this.gaConfig)+");";this.additionalGaCode&&this.additionalGaCode.forEach(e=>{r+="\ngtag('config', '"+e+"', "+JSON.stringify(this.gaConfig)+");"}),s.innerHTML=r,n.appendChild(s);var o=this.outputOnResolve();Object.assign(window,{[a]:o}),e(o)},r.onerror=e=>{if("string"==typeof e)t("GA4React intialization failed "+e);else{var i=Error();i.name="GA4React intialization failed",i.message=JSON.stringify(e,["message","arguments","type","name"]),t(i)}};var o=()=>{switch(document.readyState){case"interactive":case"complete":s.isInitialized()||(n.appendChild(r),document.removeEventListener("readystatechange",o))}};"complete"!==document.readyState?document.addEventListener("readystatechange",o):o(),setTimeout(()=>{t(Error("GA4React Timeout"))},this.timeout)})}pageview(e,t,i){return this.gtag("event","page_view",{page_path:e,page_location:t||window.location,page_title:i||document.title})}event(e,t,i,n){return void 0===n&&(n=!1),this.gtag("event",e,{event_label:t,event_category:i,non_interaction:n})}gtag(){return window.gtag(...arguments)}static isInitialized(){return void 0!==window[a]==!0}static getGA4React(){if(s.isInitialized())return window[a];console.error(Error("GA4React is not initialized"))}}var r=(e,t,i)=>{t(n.Children.map(e,(e,t)=>n.isValidElement(e)?e.type&&void 0!==e.type.name?n.cloneElement(e,{ga4:i,index:t}):e:n.createElement(n.Fragment,null,e)))},o=e=>{var{code:t,timeout:i,config:a,additionalCode:o,children:c,options:g}=e,[d,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(s.isInitialized()){var e=s.getGA4React();e&&r(c,l,e)}else new s(""+t,a,o,i,g).initialize().then(e=>{r(c,l,e)},e=>{console.error(e)})},[]),n.createElement(n.Fragment,null,d)},c=(e,t,i,a,r)=>{var[o,c]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{if(e)switch(s.isInitialized()){case!1:new s(""+e,t,i,a,r).initialize().then(e=>{c(e)},e=>{console.error(e)});break;case!0:c(s.getGA4React())}else c(s.getGA4React())},[e]),o};function g(e){return t=>{var{path:i,location:a,title:r,gaCode:o,gaTimeout:c,gaConfig:g,gaAdditionalCode:d,options:l}=t;return(0,n.useEffect)(()=>{if(!0===s.isInitialized()){var e=s.getGA4React();e&&e.pageview(i,a,r)}else new s(""+o,g,d,c,l).initialize().then(e=>{e.pageview(i,a,r)},e=>{console.error(e)})}),n.createElement(e,Object.assign({},t))}}t.default=s}}]);